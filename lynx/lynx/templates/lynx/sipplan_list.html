{% extends 'lynx/base.html' %}
{% load time_convert %}

{% block title %}SIP Plans for {{ client.first_name }} {{ client.last_name }}{% endblock %}

{% block content %}
    <h2>SIP Plans for {{ client.first_name }} {{ client.last_name }}</h2>

    {% if not request.GET.print %}
      <!--
      <a class="btn btn-success" aria-label="Add New SIP Plan" href="/lynx/add-sip-plan/{{ client.id }}/">
        Add New SIP Plan
      </a>
      <a class="btn btn-success" aria-label="Back to Client" href="/lynx/client/{{ client.id }}">
        Return to {{ client.first_name }} {{ client.last_name }}'s Information
      </a>
      -->

      <!-- Not sure why this was a form with buttons in the first place -->
      <input type="button" class="btn btn-success" aria-label="Add New SIP Plan" onclick="location.href='/lynx/add-sip-plan/{{ client.id }}/';" value="Add New SIP Plan" />
      <input type="button" class="btn btn-success" aria-label="Back to Client" onclick="location.href='/lynx/client/{{ client.id }}';" value="Return to {{ client.first_name }} {{ client.last_name }}'s Information" />
    {% endif %}

    <ul class="container-fluid">
    {% for sip in plans %}
      <li>
        <section>
          <h3>
            Plan Name:
            <a href='/lynx/sip-plan/{{ sip.id }}'>{{ sip.plan_name }}</a>
          </h3>
          <p>
            <span class="make-bold">AT Outcome:</span>
            {{ sip.at_outcomes }}
          </p>
          <p>
            <span class="make-bold">IL/A Outcome:</span>
            {{ sip.ila_outcomes }}
          </p>
          <p>
            <span class="make-bold">Living Situation Outcome:</span>
            {{ sip.living_plan_progress }}
          </p>
          <p>
            <span class="make-bold">Community Involvement Outcome:</span>
            {{ sip.community_plan_progress }}
          </p>
          <p>
            <span class="make-bold">Employment Outcome:</span>
            {{ sip.employment_outcomes }}
          </p>
          <p>
            <span class="make-bold">Plan Services:</span>
            {% if sip.at_services or sip.at_devices %} Assistive Technology Devices and Services, {% endif %}
            {% if sip.independent_living %}            IL/A Services,                             {% endif %}
            {% if sip.orientation %}                   O&M Skills,                                {% endif %}
            {% if sip.communications %}                Communication skills,                      {% endif %}
            {% if sip.dls %}                           Daily Living Skills,                       {% endif %}
            {% if sip.advocacy %}                      Advocacy Training,                         {% endif %}
            {% if sip.counseling %}                    Adjustment Counseling,                     {% endif %}
            {% if sip.information %}                   Information & Referral,                    {% endif %}
            {% if sip.services %}                      Other Services                             {% endif %}
            {% if sip.support_services %}              Supportive Services                        {% endif %}
          </p>
          <p>
            <a href="/lynx/sip-plan-edit/{{ sip.id }}?next={{ request.path }}">Edit</a>
            |
            <a href='/lynx/sip-plan-confirm/{{ sip.id }}/{{ client.id }}'>Delete</a>
          </p>
        </section>
      </li>

      {% empty %}
      <div class="row col-11">
        Sorry, no SIP Plans have been created for this client
      </div>

    {% endfor %}
    </ul>
    <br>
{% endblock %}
